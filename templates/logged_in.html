<!DOCTYPE html>
{% extends "base.html" %}

{% block title %}
Dashboard
{% endblock %}

{% block style %}
<link href="../static/css/style_gallery.css" rel="stylesheet" type="text/css" /> <!-- this is a temporary style -->
{% endblock %}

{% block content %}
<div style="margin-left: 15px;">
    <h1>{{name}}'s Dashboard</h1>
    <form action="{{ url_for('logout') }}" method="post"><input type="submit" value="Log Out"></form>
    <form action="/shopping_cart_save" method="post">
        <input type="text" id="username" name="username" value="{{name}}" style="visibility: hidden; margin: 0px;">
        <input style="margin: 0px; position: absolute;" type="submit" value="save shopping list">
    </form>
    <h3>{{display_cart|length}} Items in your cart</h3>
    <p>Items in your cart:</p>
    {% for info in display_cart %} <!-- Looping through each dictionary in the list-->
        {% set name = info["item_name"] %}
        {% set price = info["item_price"] %}
        {% set image_location = info["item_location"] %}
        <!-- need to place the cards here -->
        <div class="row">
            <div class="column">
                <div class="card">
                    <!--<p>{{loop.index0}}</p>--><!-- to display positition of item in shopping cart-->
                    <img src="{{image_location}}" width=100px>
                    <div class="container">
                        <h2>{{name}}</h2>
                        <p sytle="color:black;">${{price}}</p>
                    </div>
                    <form action="/shopping_cart_remove" method="post">
                        <input type="number" id="item_pos_list" name="item_pos_list" value="{{loop.index0}}" style="visibility: hidden;">
                        <button class="button">remove from cart</button>
                    </form>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
